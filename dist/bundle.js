!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DIOInt=t():e.DIOInt=t()}(window,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){e.exports=function(e){"use strict";var t=function(e,t){Array.prototype.slice.call(e).forEach(t)},i=function(){return window.innerHeight>window.innerWidth},n={enums:{STAR_CHECKED_CLASS:"info__star--checked"},adjustForOrientation:function(){this.el.querySelector(".mode--portrait").classList.toggle("hidden",!i()),this.el.querySelector(".mode--landscape").classList.toggle("hidden",i())},delegateEvents:function(){window.addEventListener("resize",this.onWindowResize)},onWindowResize:function(){this.adjustForOrientation(),i()||(this.el.style.width="100%")},initBanner:function(){t(this.el.querySelectorAll(".info__img"),function(t){t.src=e.images[0]})},applyTitle:function(){t(this.el.querySelectorAll(".info__text"),function(t){t.textContent=e.title})},applyRating:function(){t(this.el.querySelectorAll("[data-rating]"),function(t){t.classList.remove(this.enums.STAR_CHECKED_CLASS),window.parseInt(t.dataset.rating)<=e.rating&&t.classList.add(this.enums.STAR_CHECKED_CLASS)}.bind(this))},show:function(){this.el.style.opacity=1},create:function(){this.el=document.querySelector(".ad__container"),this.slider=s,this.slider.ad=this,this.onWindowResize=this.onWindowResize.bind(this),this.delegateEvents(),this.adjustForOrientation(),this.initBanner(),this.applyTitle(),this.applyRating(),this.slider.create()}},s={cache:{},currentSlideIndex:0,imagesLoaded:0,onBannerLoad:function(e){this.imagesLoaded+=1,this.imagesLoaded===this.getSlideNodesCount()&&(this.updateCardDeck(),this.ad.show(),window.setTimeout(function(){this.toggleAnimation(!0)}.bind(this),0),e.removeEventListener("load",this.onBannerLoad))},toggleAnimation:function(e){this.tape.classList.toggle("tape--animated",e)},createSlides:function(){e.images.forEach(function(e,t){var i=this.createSlide(e),n=i.querySelector("img");this.tape.appendChild(i),n.addEventListener("load",this.onBannerLoad.bind(this,n))}.bind(this))},createSlide:function(e){var t=document.createElement("div"),i=document.createElement("img");return t.classList.add("slider__slide"),i.classList.add("ad__banner"),i.src=e,t.appendChild(i),t},cacheCoords:function(e){this.cache.x=e},shouldSlide:function(e){var t=e-this.cache.x;return[Math.abs(t)>30,t]},resetActiveClass:function(){this.el.querySelector(".slider__slide--active").classList.remove("slider__slide--active")},addActiveClass:function(){this.getSlideNodes()[this.currentSlideIndex].classList.add("slider__slide--active")},performSlide:function(e){this.updateSlideIndex(e),this.resetActiveClass(),this.addActiveClass(),this.updateCardDeck()},updateSlideIndex:function(e){e<0&&this.canSlide("forward")?this.currentSlideIndex+=1:e>0&&this.canSlide("backward")&&(this.currentSlideIndex-=1)},slide:function(e){var t=this.shouldSlide(e),i=t[0],n=t[1];i&&this.performSlide(n)},getSlideNodes:function(){return Array.prototype.slice.call(this.tape.children)},getSlideNodesCount:function(){return this.getSlideNodes().length},setSlidesCount:function(){this.slidesCount=this.getSlideNodesCount()},setTape:function(){this.tape=this.el.querySelector(".slider__tape")},updateCardDeck:function(){var e=this.getSlideNodes(),t=e.reduce(function(e,t,i){return i<this.currentSlideIndex?e+t.clientWidth:e}.bind(this),0);this.tape.style.left=this.el.clientWidth/2-e[this.currentSlideIndex].clientWidth/2-t+"px"},bindContext:function(){this.onWindowResize=this.onWindowResize.bind(this),this.onTouchstart=this.onTouchstart.bind(this),this.onTouchend=this.onTouchend.bind(this)},create:function(){this.el=document.querySelector(".ad__slider"),this.bindContext(),this.setTape(),this.createSlides(),this.setSlidesCount(),this.setInitialSlideIndex(),this.addActiveClass(),this.delegateEvents()},setInitialSlideIndex:function(){this.currentSlideIndex=Math.round(this.getSlideNodesCount()/2)-1},canSlide:function(e){return"backward"===e?this.currentSlideIndex>0:this.currentSlideIndex<this.slidesCount-1},onWindowResize:function(){this.toggleAnimation(!1),this.updateCardDeck(),window.setTimeout(function(){this.toggleAnimation(!0)}.bind(this),0)},delegateEvents:function(){this.el.addEventListener("touchstart",this.onTouchstart),this.el.addEventListener("mousedown",this.onTouchstart),this.el.addEventListener("touchend",this.onTouchend),this.el.addEventListener("mouseup",this.onTouchend),window.addEventListener("resize",this.onWindowResize)},onTouchstart:function(e){var t=e.changedTouches&&e.changedTouches[0].clientX||e.pageX;this.cacheCoords(t)},onTouchend:function(e){var t=e.changedTouches&&e.changedTouches[0].clientX||e.pageX;this.slide(t)}};document.ondragstart=function(){return!1},n.create()}}])});